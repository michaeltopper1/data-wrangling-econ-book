<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Programming | Data Wrangling for Economists</title>
  <meta name="description" content="Enter description." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Programming | Data Wrangling for Economists" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Enter description." />
  <meta name="github-repo" content="openscapes/series" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Programming | Data Wrangling for Economists" />
  
  <meta name="twitter:description" content="Enter description." />
  

<meta name="author" content="Michael Topper" />
<meta name="author" content="Danny Klinenberg" />


<meta name="date" content="2021-09-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="file-organization.html"/>
<link rel="next" href="relational-data.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="lib/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
<link rel="stylesheet" href="lib/css/lesson.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Wrangling for Economists</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#organization"><i class="fa fa-check"></i><b>1.1</b> Organization</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro-to-r.html"><a href="intro-to-r.html"><i class="fa fa-check"></i><b>2</b> Intro to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro-to-r.html"><a href="intro-to-r.html#basic-summary-statistics"><i class="fa fa-check"></i><b>2.1</b> Basic summary statistics</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intro-to-r.html"><a href="intro-to-r.html#exercise"><i class="fa fa-check"></i><b>2.1.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro-to-r.html"><a href="intro-to-r.html#basic-histogram"><i class="fa fa-check"></i><b>2.2</b> Basic histogram</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro-to-r.html"><a href="intro-to-r.html#exercise-1"><i class="fa fa-check"></i><b>2.2.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro-to-r.html"><a href="intro-to-r.html#creating-vectors"><i class="fa fa-check"></i><b>2.3</b> Creating Vectors</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intro-to-r.html"><a href="intro-to-r.html#exercise-2"><i class="fa fa-check"></i><b>2.3.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro-to-r.html"><a href="intro-to-r.html#comparing-vectors"><i class="fa fa-check"></i><b>2.4</b> Comparing Vectors</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro-to-r.html"><a href="intro-to-r.html#exercise-3"><i class="fa fa-check"></i><b>2.4.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro-to-r.html"><a href="intro-to-r.html#creating-a-tibble"><i class="fa fa-check"></i><b>2.5</b> Creating a tibble</a></li>
<li class="chapter" data-level="2.6" data-path="intro-to-r.html"><a href="intro-to-r.html#exercise-4"><i class="fa fa-check"></i><b>2.6</b> Exercise</a></li>
<li class="chapter" data-level="2.7" data-path="intro-to-r.html"><a href="intro-to-r.html#selected-solutions"><i class="fa fa-check"></i><b>2.7</b> Selected Solutions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-rproject.html"><a href="the-rproject.html"><i class="fa fa-check"></i><b>3</b> The <code>Rproject</code></a></li>
<li class="chapter" data-level="4" data-path="git-and-github.html"><a href="git-and-github.html"><i class="fa fa-check"></i><b>4</b> Git and Github</a>
<ul>
<li class="chapter" data-level="4.1" data-path="git-and-github.html"><a href="git-and-github.html#installing-git"><i class="fa fa-check"></i><b>4.1</b> Installing Git</a></li>
<li class="chapter" data-level="4.2" data-path="git-and-github.html"><a href="git-and-github.html#create-a-github-account"><i class="fa fa-check"></i><b>4.2</b> Create a Github account</a></li>
<li class="chapter" data-level="4.3" data-path="git-and-github.html"><a href="git-and-github.html#introduce-yourself-to-git"><i class="fa fa-check"></i><b>4.3</b> Introduce yourself to Git</a></li>
<li class="chapter" data-level="4.4" data-path="git-and-github.html"><a href="git-and-github.html#create-a-pat"><i class="fa fa-check"></i><b>4.4</b> Create a PAT</a></li>
<li class="chapter" data-level="4.5" data-path="git-and-github.html"><a href="git-and-github.html#the-workflow"><i class="fa fa-check"></i><b>4.5</b> The Workflow</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="git-and-github.html"><a href="git-and-github.html#definitions"><i class="fa fa-check"></i><b>4.5.1</b> Definitions</a></li>
<li class="chapter" data-level="4.5.2" data-path="git-and-github.html"><a href="git-and-github.html#the-workflow-1"><i class="fa fa-check"></i><b>4.5.2</b> The Workflow</a></li>
<li class="chapter" data-level="4.5.3" data-path="git-and-github.html"><a href="git-and-github.html#the-git-panel-of-rstudio"><i class="fa fa-check"></i><b>4.5.3</b> The Git panel of RStudio</a></li>
<li class="chapter" data-level="4.5.4" data-path="git-and-github.html"><a href="git-and-github.html#pulling"><i class="fa fa-check"></i><b>4.5.4</b> Pulling</a></li>
<li class="chapter" data-level="4.5.5" data-path="git-and-github.html"><a href="git-and-github.html#commiting"><i class="fa fa-check"></i><b>4.5.5</b> Commiting</a></li>
<li class="chapter" data-level="4.5.6" data-path="git-and-github.html"><a href="git-and-github.html#pushing"><i class="fa fa-check"></i><b>4.5.6</b> Pushing</a></li>
<li class="chapter" data-level="4.5.7" data-path="git-and-github.html"><a href="git-and-github.html#pulling-again"><i class="fa fa-check"></i><b>4.5.7</b> Pulling (again)</a></li>
<li class="chapter" data-level="4.5.8" data-path="git-and-github.html"><a href="git-and-github.html#the-main-commands-command-lineterminal"><i class="fa fa-check"></i><b>4.5.8</b> The Main Commands (Command Line/Terminal)</a></li>
<li class="chapter" data-level="4.5.9" data-path="git-and-github.html"><a href="git-and-github.html#exercise-5"><i class="fa fa-check"></i><b>4.5.9</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="git-and-github.html"><a href="git-and-github.html#branches"><i class="fa fa-check"></i><b>4.6</b> Branches</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="git-and-github.html"><a href="git-and-github.html#creating-a-branch"><i class="fa fa-check"></i><b>4.6.1</b> Creating a branch</a></li>
<li class="chapter" data-level="4.6.2" data-path="git-and-github.html"><a href="git-and-github.html#branches-when-working-independently"><i class="fa fa-check"></i><b>4.6.2</b> Branches when working independently</a></li>
<li class="chapter" data-level="4.6.3" data-path="git-and-github.html"><a href="git-and-github.html#branches-when-working-collaboratively"><i class="fa fa-check"></i><b>4.6.3</b> Branches when working collaboratively</a></li>
<li class="chapter" data-level="4.6.4" data-path="git-and-github.html"><a href="git-and-github.html#branches-with-the-terminal"><i class="fa fa-check"></i><b>4.6.4</b> Branches with the Terminal</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="git-and-github.html"><a href="git-and-github.html#gitignore"><i class="fa fa-check"></i><b>4.7</b> .gitignore</a></li>
<li class="chapter" data-level="4.8" data-path="git-and-github.html"><a href="git-and-github.html#reverting"><i class="fa fa-check"></i><b>4.8</b> Reverting</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="git-and-github.html"><a href="git-and-github.html#reverting-safelty"><i class="fa fa-check"></i><b>4.8.1</b> Reverting Safelty</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html"><i class="fa fa-check"></i><b>5</b> Cleaning Data I</a>
<ul>
<li class="chapter" data-level="5.1" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#the-pipe"><i class="fa fa-check"></i><b>5.1</b> The Pipe</a></li>
<li class="chapter" data-level="5.2" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#the-clean_names-function"><i class="fa fa-check"></i><b>5.2</b> The <code>clean_names</code> function</a></li>
<li class="chapter" data-level="5.3" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#the-select-function"><i class="fa fa-check"></i><b>5.3</b> The <code>select</code> function</a></li>
<li class="chapter" data-level="5.4" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#the-filter-function"><i class="fa fa-check"></i><b>5.4</b> The <code>filter</code> function</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#exercise-6"><i class="fa fa-check"></i><b>5.4.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#the-distinct-function"><i class="fa fa-check"></i><b>5.5</b> The <code>distinct</code> function</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#exercise-7"><i class="fa fa-check"></i><b>5.5.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#the-mutate-function."><i class="fa fa-check"></i><b>5.6</b> The <code>mutate</code> function.</a></li>
<li class="chapter" data-level="5.7" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#the-summarize-function"><i class="fa fa-check"></i><b>5.7</b> The <code>summarize</code> function</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#exercise-8"><i class="fa fa-check"></i><b>5.7.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#the-group_by-and-summarize-functions"><i class="fa fa-check"></i><b>5.8</b> The <code>group_by</code> and <code>summarize</code> functions</a></li>
<li class="chapter" data-level="5.9" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#exercise-9"><i class="fa fa-check"></i><b>5.9</b> Exercise</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#exercise-10"><i class="fa fa-check"></i><b>5.9.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="cleaning-data-i.html"><a href="cleaning-data-i.html#selected-solutions-1"><i class="fa fa-check"></i><b>5.10</b> Selected Solutions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html"><i class="fa fa-check"></i><b>6</b> Data Cleaning II</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#the-count-function"><i class="fa fa-check"></i><b>6.1</b> The <code>count</code> function</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#exercise-11"><i class="fa fa-check"></i><b>6.1.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#using-the-is.na-function"><i class="fa fa-check"></i><b>6.2</b> Using the <code>is.na</code> function</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#exercise-12"><i class="fa fa-check"></i><b>6.2.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#the-arrange-function"><i class="fa fa-check"></i><b>6.3</b> The <code>arrange</code> function</a></li>
<li class="chapter" data-level="6.4" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#the-filter-function-with-logicals"><i class="fa fa-check"></i><b>6.4</b> The <code>filter</code> function with logicals</a></li>
<li class="chapter" data-level="6.5" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#exercise-13"><i class="fa fa-check"></i><b>6.5</b> Exercise</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#exercise-14"><i class="fa fa-check"></i><b>6.5.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="data-cleaning-ii.html"><a href="data-cleaning-ii.html#selected-solutions-2"><i class="fa fa-check"></i><b>6.6</b> Selected Solutions</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Graphics with ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.1</b> The grammar of graphics</a></li>
<li class="chapter" data-level="7.2" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#adding-options"><i class="fa fa-check"></i><b>7.2</b> Adding options</a></li>
<li class="chapter" data-level="7.3" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#adding-multiple-plots-together"><i class="fa fa-check"></i><b>7.3</b> Adding multiple plots together</a></li>
<li class="chapter" data-level="7.4" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#creating-legends"><i class="fa fa-check"></i><b>7.4</b> Creating legends</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="graphics-with-ggplot2.html"><a href="graphics-with-ggplot2.html#exercise-15"><i class="fa fa-check"></i><b>7.4.1</b> Exercise</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>8</b> Strings</a>
<ul>
<li class="chapter" data-level="8.1" data-path="strings.html"><a href="strings.html#regular-expressions"><i class="fa fa-check"></i><b>8.1</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="strings.html"><a href="strings.html#exercise-1-1"><i class="fa fa-check"></i><b>8.1.1</b> Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="strings.html"><a href="strings.html#regular-expressions-continued"><i class="fa fa-check"></i><b>8.2</b> Regular Expressions Continued</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="strings.html"><a href="strings.html#exercise-2-1"><i class="fa fa-check"></i><b>8.2.1</b> Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="strings.html"><a href="strings.html#using-extract"><i class="fa fa-check"></i><b>8.3</b> Using <code>extract</code></a></li>
<li class="chapter" data-level="8.4" data-path="strings.html"><a href="strings.html#using-separate"><i class="fa fa-check"></i><b>8.4</b> Using <code>separate</code></a></li>
<li class="chapter" data-level="8.5" data-path="strings.html"><a href="strings.html#the-gsub-function"><i class="fa fa-check"></i><b>8.5</b> The <code>gsub</code> function</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="strings.html"><a href="strings.html#exercise-3-1"><i class="fa fa-check"></i><b>8.5.1</b> Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="strings.html"><a href="strings.html#solutions"><i class="fa fa-check"></i><b>8.6</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="file-organization.html"><a href="file-organization.html"><i class="fa fa-check"></i><b>9</b> File Organization</a>
<ul>
<li class="chapter" data-level="9.1" data-path="file-organization.html"><a href="file-organization.html#organizing"><i class="fa fa-check"></i><b>9.1</b> Organizing</a></li>
<li class="chapter" data-level="9.2" data-path="file-organization.html"><a href="file-organization.html#rmarkdown"><i class="fa fa-check"></i><b>9.2</b> <code>Rmarkdown</code></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="file-organization.html"><a href="file-organization.html#the-anatomy-of-an-rmarkdown-file"><i class="fa fa-check"></i><b>9.2.1</b> The Anatomy of an <code>Rmarkdown</code> File</a></li>
<li class="chapter" data-level="9.2.2" data-path="file-organization.html"><a href="file-organization.html#the-body-of-the-rmarkdown"><i class="fa fa-check"></i><b>9.2.2</b> The Body of the <code>Rmarkdown</code></a></li>
<li class="chapter" data-level="9.2.3" data-path="file-organization.html"><a href="file-organization.html#childing"><i class="fa fa-check"></i><b>9.2.3</b> Childing</a></li>
<li class="chapter" data-level="9.2.4" data-path="file-organization.html"><a href="file-organization.html#bibliographies"><i class="fa fa-check"></i><b>9.2.4</b> Bibliographies</a></li>
<li class="chapter" data-level="9.2.5" data-path="file-organization.html"><a href="file-organization.html#a-final-note-on-rmarkdown-visual-markdown-editor"><i class="fa fa-check"></i><b>9.2.5</b> A Final Note on <code>Rmarkdown</code>: Visual Markdown Editor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="programming.html"><a href="programming.html"><i class="fa fa-check"></i><b>10</b> Programming</a>
<ul>
<li class="chapter" data-level="10.1" data-path="programming.html"><a href="programming.html#functions"><i class="fa fa-check"></i><b>10.1</b> Functions</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="programming.html"><a href="programming.html#exercise-16"><i class="fa fa-check"></i><b>10.1.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="programming.html"><a href="programming.html#for-loops"><i class="fa fa-check"></i><b>10.2</b> For-loops</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="programming.html"><a href="programming.html#exercise-17"><i class="fa fa-check"></i><b>10.2.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="programming.html"><a href="programming.html#if-else"><i class="fa fa-check"></i><b>10.3</b> If-else</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="programming.html"><a href="programming.html#exercise-18"><i class="fa fa-check"></i><b>10.3.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="programming.html"><a href="programming.html#selected-solutions-3"><i class="fa fa-check"></i><b>10.4</b> Selected Solutions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>11</b> Relational Data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="relational-data.html"><a href="relational-data.html#finding-primary-keys"><i class="fa fa-check"></i><b>11.1</b> Finding Primary Keys</a></li>
<li class="chapter" data-level="11.2" data-path="relational-data.html"><a href="relational-data.html#finding-primary-keys-harder"><i class="fa fa-check"></i><b>11.2</b> Finding Primary Keys (harder)</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="relational-data.html"><a href="relational-data.html#exercise-19"><i class="fa fa-check"></i><b>11.2.1</b> Exercise</a></li>
<li class="chapter" data-level="11.2.2" data-path="relational-data.html"><a href="relational-data.html#exercise-20"><i class="fa fa-check"></i><b>11.2.2</b> Exercise</a></li>
<li class="chapter" data-level="11.2.3" data-path="relational-data.html"><a href="relational-data.html#exercise-21"><i class="fa fa-check"></i><b>11.2.3</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="relational-data.html"><a href="relational-data.html#selected-solutions-4"><i class="fa fa-check"></i><b>11.3</b> Selected Solutions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Wrangling for Economists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming" class="section level1" number="10">
<h1><span class="header-section-number">Chapter 10</span> Programming</h1>
<p>For this chapter, you will not be working with a particular data set. Instead, we will be focusing on basic programming practices using vectors and functions that we create ourselves.</p>
<div id="functions" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Functions</h2>
<p>Functions are an extremely useful tool. As you will see in your homework, they can provide the benefit of nearly zero marginal cost with some upfront fixed costs. Our world is a repetitive place, and minimizing the amount of time you need to repeatedly do a task should be minimized. This is where functions will help us.</p>
<p>To motivate this, let’s consider finding the area of a circle. The formula for area of a circle is shown in equation (1).</p>
<p><span class="math display">\[\begin{equation}
Area = \pi \times r^2
\end{equation}\]</span></p>
<p>Suppose you wanted to find the area of two circles with radii of 3 and 5 respectively. Although a simple task, it would be painfully slow to type the numbers over and over into R and return an answer. Instead, let’s create a function that will compute this area for us.</p>
<p>Functions in R come with the following syntax:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="programming.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="do">## function_name is the function&#39;s name that we create</span></span>
<span id="cb207-2"><a href="programming.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="do">## function() tells R that we are creating a function</span></span>
<span id="cb207-3"><a href="programming.html#cb207-3" aria-hidden="true" tabindex="-1"></a><span class="do">## x is an input for the function</span></span>
<span id="cb207-4"><a href="programming.html#cb207-4" aria-hidden="true" tabindex="-1"></a>function_name <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb207-5"><a href="programming.html#cb207-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## body to add. </span></span>
<span id="cb207-6"><a href="programming.html#cb207-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>()</span>
<span id="cb207-7"><a href="programming.html#cb207-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>There are a few things to note here:</p>
<ul>
<li><code>function_name</code> is the name we have given our function.</li>
<li><code>function</code> tells R that we are creating a function.</li>
<li><code>x</code> is an input to the function</li>
<li><code>return</code> specifies what value should return (i.e. output).</li>
</ul>
<p>Recall that functions are like a machine: they require an input, and using that input, create an output. In this example, our input is x, but we have not specified an output.</p>
<p>To provide a concrete example, we will now create a function called <code>area_of_circle</code> that will do the following:</p>
<ol style="list-style-type: decimal">
<li>Take the radius of the circle as an input.</li>
<li>Calculate the area of the circle.</li>
<li>Return the area of the circle as an output.</li>
</ol>
<p>Observe:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="programming.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="do">## This function returns the area of a circle</span></span>
<span id="cb208-2"><a href="programming.html#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="do">## This function takes 1 input: the radius of the circle</span></span>
<span id="cb208-3"><a href="programming.html#cb208-3" aria-hidden="true" tabindex="-1"></a>area_of_circle <span class="ot">&lt;-</span> <span class="cf">function</span>(radius){</span>
<span id="cb208-4"><a href="programming.html#cb208-4" aria-hidden="true" tabindex="-1"></a>  area <span class="ot">&lt;-</span> radius<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> pi</span>
<span id="cb208-5"><a href="programming.html#cb208-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(area)</span>
<span id="cb208-6"><a href="programming.html#cb208-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Notice how the function was constructed. First, we write comments that explain what the function does, and what its inputs are. This is a best practice so you can understand what your function does in the future. Next, we write the actual code of the function.</p>
<p>Now that we have created the function, we can input any value for the radius we like and the function will return the area of the circle.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="programming.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculating area of circle with radius 3</span></span>
<span id="cb209-2"><a href="programming.html#cb209-2" aria-hidden="true" tabindex="-1"></a><span class="fu">area_of_circle</span>(<span class="at">radius =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 28.27433</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="programming.html#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculating area of circle with radius 5</span></span>
<span id="cb211-2"><a href="programming.html#cb211-2" aria-hidden="true" tabindex="-1"></a><span class="fu">area_of_circle</span>(<span class="at">radius =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 78.53982</code></pre>
<p>We could also modify the <code>return</code> statement so that it gives us a little more information:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="programming.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="do">## This function takes 1 input: the radius of the circle</span></span>
<span id="cb213-2"><a href="programming.html#cb213-2" aria-hidden="true" tabindex="-1"></a><span class="do">## It returns the area of the circle</span></span>
<span id="cb213-3"><a href="programming.html#cb213-3" aria-hidden="true" tabindex="-1"></a>area_of_circle <span class="ot">&lt;-</span> <span class="cf">function</span>(radius){</span>
<span id="cb213-4"><a href="programming.html#cb213-4" aria-hidden="true" tabindex="-1"></a>  area <span class="ot">&lt;-</span> radius<span class="sc">^</span><span class="dv">2</span> <span class="sc">*</span> pi</span>
<span id="cb213-5"><a href="programming.html#cb213-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;The area of the circle with radius&quot;</span>, radius, <span class="st">&quot;is&quot;</span>, area)))</span>
<span id="cb213-6"><a href="programming.html#cb213-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="programming.html#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculating area of circle with radius 3</span></span>
<span id="cb214-2"><a href="programming.html#cb214-2" aria-hidden="true" tabindex="-1"></a><span class="fu">area_of_circle</span>(<span class="at">radius =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;The area of the circle with radius 3 is 28.2743338823081&quot;</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="programming.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculating area of circle with radius 5</span></span>
<span id="cb216-2"><a href="programming.html#cb216-2" aria-hidden="true" tabindex="-1"></a><span class="fu">area_of_circle</span>(<span class="at">radius =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;The area of the circle with radius 5 is 78.5398163397448&quot;</code></pre>
<div id="exercise-16" class="section level3" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Exercise</h3>
<ul>
<li>Create a function called <code>miles2kilo_feet2meter</code> which takes two inputs, <code>miles</code> and <code>feet</code>. The function then converts the miles input to kilometers, and the feet input to meters. The function then prints out the results, specifying each.</li>
</ul>
</div>
</div>
<div id="for-loops" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> For-loops</h2>
<p>For-loops are a common type of loop that, like functions, take care of repetitive tasks. For-loops work by iterating through a specified task for a certain amount of times. Once that specified amount of times has been met, the for-loop stops.</p>
<p>The general syntax for for-loops is as follows:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="programming.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="do">## for-loop syntax</span></span>
<span id="cb218-2"><a href="programming.html#cb218-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> {some specified range}){</span>
<span id="cb218-3"><a href="programming.html#cb218-3" aria-hidden="true" tabindex="-1"></a>  <span class="do">##do something</span></span>
<span id="cb218-4"><a href="programming.html#cb218-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>One thing to note about for loops is the indexing variable <code>i</code>. This variable <code>i</code> will be set equal to your indexed value at each stage in the loop. We will illustrate this by example:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="programming.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="do">## a for-loop that loops through values 1 to 5 and prints the index at each stage</span></span>
<span id="cb219-2"><a href="programming.html#cb219-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb219-3"><a href="programming.html#cb219-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb219-4"><a href="programming.html#cb219-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>The for-loop here is telling R to print the value of <code>i</code> at each iteration. The for-loop lasts for 5 iterations as we specified. Notice that at each iteration, the <code>i</code> variable is updated to match the index it is looping through. For instance, <code>i</code> is assigned to 1 the first time through the loop, 2 the second time through the loop, 3 the third time etc. However, numbers are not the only thing we can loop through. We can actually loop through all of the elements in a vector.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="programming.html#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="do">## a vector for demonstration</span></span>
<span id="cb221-2"><a href="programming.html#cb221-2" aria-hidden="true" tabindex="-1"></a>favorite_econ <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Econ 140A&quot;</span>, <span class="st">&quot;Econ 241&quot;</span>, <span class="st">&quot;Econ 290&quot;</span>, <span class="st">&quot;Econ 145&quot;</span>)</span>
<span id="cb221-3"><a href="programming.html#cb221-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb221-4"><a href="programming.html#cb221-4" aria-hidden="true" tabindex="-1"></a><span class="do">## looping through each element of the favorite_econ vector</span></span>
<span id="cb221-5"><a href="programming.html#cb221-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> favorite_econ){</span>
<span id="cb221-6"><a href="programming.html#cb221-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb221-7"><a href="programming.html#cb221-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Econ 140A&quot;
## [1] &quot;Econ 241&quot;
## [1] &quot;Econ 290&quot;
## [1] &quot;Econ 145&quot;</code></pre>
<p>Here, <code>i</code> is still our index, but instead, we are telling the loop to go through each element in the vector one-by-one. Hence, on the first time through the loop, the index <code>i</code> is assigned to “Econ 140A,” while <code>i</code> is assigned to “Econ 241” the second time through etc.</p>
<p>Now let’s try a loop that is most frequently used: looping through a entire vector’s indices.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="programming.html#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="do">## looping through a vectors indices </span></span>
<span id="cb223-2"><a href="programming.html#cb223-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(favorite_econ)){</span>
<span id="cb223-3"><a href="programming.html#cb223-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(favorite_econ[i])</span>
<span id="cb223-4"><a href="programming.html#cb223-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Econ 140A&quot;
## [1] &quot;Econ 241&quot;
## [1] &quot;Econ 290&quot;
## [1] &quot;Econ 145&quot;</code></pre>
<p>There is quite a lot to unpack here:</p>
<ul>
<li>The for-loop is assigning the index <code>i</code> variable to the number 1 the first time through, 2 the second time through, and continuing on until it reaches the the number 4 which is equal to the length of the <code>favorite_econ</code> vector.</li>
<li>At each iteration of the loop, we print the value of <code>favorite_econ</code> at each index. For instance, <code>i</code> is equal to 1 the first time through the loop, so the first thing that will be printed is <code>favorite_econ[1]</code> which is equivalent to “Econ 140A” (check yourself!).</li>
</ul>
<p>Another thing to note is that you do not need to have <code>i</code> as the name of the index. In fact, when you combine multiple for-loops together, it can be helpful to change your index. Observe:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="programming.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="do">## econ_class is the index in this case</span></span>
<span id="cb225-2"><a href="programming.html#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (econ_class <span class="cf">in</span> favorite_econ){</span>
<span id="cb225-3"><a href="programming.html#cb225-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(econ_class)</span>
<span id="cb225-4"><a href="programming.html#cb225-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Econ 140A&quot;
## [1] &quot;Econ 241&quot;
## [1] &quot;Econ 290&quot;
## [1] &quot;Econ 145&quot;</code></pre>
<p>As a final example, we will modify our <code>area_of_circle</code> function. The function will take a range of numbers as an input, and collect the area of the circle using each of these numbers as a radii. In particular, our function will take two inputs: <code>minradius</code> and <code>maxradius</code>. The <code>minradius</code> argument will be the smallest radius we would like to calculate the area of the circle with, while the <code>maxradius</code> argument will be the largest. The function will calculate the area of the circle for every integer between <code>minradius</code> and <code>maxradius</code> and return a vector with all of the areas.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="programming.html#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="do">## modifying the function to collect the area of circles with radii of integers 1 through 10</span></span>
<span id="cb227-2"><a href="programming.html#cb227-2" aria-hidden="true" tabindex="-1"></a>area_of_circle <span class="ot">&lt;-</span> <span class="cf">function</span>(minradius, maxradius){</span>
<span id="cb227-3"><a href="programming.html#cb227-3" aria-hidden="true" tabindex="-1"></a>  area_vector <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">10</span>) <span class="co">#creating an empty vector of 10 NAs</span></span>
<span id="cb227-4"><a href="programming.html#cb227-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> minradius<span class="sc">:</span>maxradius){</span>
<span id="cb227-5"><a href="programming.html#cb227-5" aria-hidden="true" tabindex="-1"></a>    area_vector[i] <span class="ot">=</span> pi <span class="sc">*</span> i<span class="sc">^</span><span class="dv">2</span>  <span class="co">#calculating the area </span></span>
<span id="cb227-6"><a href="programming.html#cb227-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb227-7"><a href="programming.html#cb227-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(area_vector) <span class="co">#returning the vector of areas</span></span>
<span id="cb227-8"><a href="programming.html#cb227-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="programming.html#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">area_of_circle</span>(<span class="at">minradius =</span> <span class="dv">1</span>, <span class="at">maxradius =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1]   3.141593  12.566371  28.274334  50.265482  78.539816 113.097336
##  [7] 153.938040 201.061930 254.469005 314.159265</code></pre>
<p>As an aside, it is important to note that we can also loop through columns in a data frame. This is a task you will likely need to do at some point in your data wrangling career, and there isn’t much great help for this online.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="programming.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb230-2"><a href="programming.html#cb230-2" aria-hidden="true" tabindex="-1"></a><span class="do">## loading in the mtcars data set from R</span></span>
<span id="cb230-3"><a href="programming.html#cb230-3" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> mtcars</span>
<span id="cb230-4"><a href="programming.html#cb230-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-5"><a href="programming.html#cb230-5" aria-hidden="true" tabindex="-1"></a><span class="do">## selecting only three columns for demonstration</span></span>
<span id="cb230-6"><a href="programming.html#cb230-6" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> cars <span class="sc">%&gt;%</span> <span class="fu">select</span>(mpg, hp, cyl)</span>
<span id="cb230-7"><a href="programming.html#cb230-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb230-8"><a href="programming.html#cb230-8" aria-hidden="true" tabindex="-1"></a><span class="do">## looping through the columns and printing them out</span></span>
<span id="cb230-9"><a href="programming.html#cb230-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">names</span>(cars)){</span>
<span id="cb230-10"><a href="programming.html#cb230-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(cars[i])</span>
<span id="cb230-11"><a href="programming.html#cb230-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>##                      mpg
## Mazda RX4           21.0
## Mazda RX4 Wag       21.0
## Datsun 710          22.8
## Hornet 4 Drive      21.4
## Hornet Sportabout   18.7
## Valiant             18.1
## Duster 360          14.3
## Merc 240D           24.4
## Merc 230            22.8
## Merc 280            19.2
## Merc 280C           17.8
## Merc 450SE          16.4
## Merc 450SL          17.3
## Merc 450SLC         15.2
## Cadillac Fleetwood  10.4
## Lincoln Continental 10.4
## Chrysler Imperial   14.7
## Fiat 128            32.4
## Honda Civic         30.4
## Toyota Corolla      33.9
## Toyota Corona       21.5
## Dodge Challenger    15.5
## AMC Javelin         15.2
## Camaro Z28          13.3
## Pontiac Firebird    19.2
## Fiat X1-9           27.3
## Porsche 914-2       26.0
## Lotus Europa        30.4
## Ford Pantera L      15.8
## Ferrari Dino        19.7
## Maserati Bora       15.0
## Volvo 142E          21.4
##                      hp
## Mazda RX4           110
## Mazda RX4 Wag       110
## Datsun 710           93
## Hornet 4 Drive      110
## Hornet Sportabout   175
## Valiant             105
## Duster 360          245
## Merc 240D            62
## Merc 230             95
## Merc 280            123
## Merc 280C           123
## Merc 450SE          180
## Merc 450SL          180
## Merc 450SLC         180
## Cadillac Fleetwood  205
## Lincoln Continental 215
## Chrysler Imperial   230
## Fiat 128             66
## Honda Civic          52
## Toyota Corolla       65
## Toyota Corona        97
## Dodge Challenger    150
## AMC Javelin         150
## Camaro Z28          245
## Pontiac Firebird    175
## Fiat X1-9            66
## Porsche 914-2        91
## Lotus Europa        113
## Ford Pantera L      264
## Ferrari Dino        175
## Maserati Bora       335
## Volvo 142E          109
##                     cyl
## Mazda RX4             6
## Mazda RX4 Wag         6
## Datsun 710            4
## Hornet 4 Drive        6
## Hornet Sportabout     8
## Valiant               6
## Duster 360            8
## Merc 240D             4
## Merc 230              4
## Merc 280              6
## Merc 280C             6
## Merc 450SE            8
## Merc 450SL            8
## Merc 450SLC           8
## Cadillac Fleetwood    8
## Lincoln Continental   8
## Chrysler Imperial     8
## Fiat 128              4
## Honda Civic           4
## Toyota Corolla        4
## Toyota Corona         4
## Dodge Challenger      8
## AMC Javelin           8
## Camaro Z28            8
## Pontiac Firebird      8
## Fiat X1-9             4
## Porsche 914-2         4
## Lotus Europa          4
## Ford Pantera L        8
## Ferrari Dino          6
## Maserati Bora         8
## Volvo 142E            4</code></pre>
<div id="exercise-17" class="section level3" number="10.2.1">
<h3><span class="header-section-number">10.2.1</span> Exercise</h3>
<ul>
<li>Write a function called <code>sum_func</code> that calculates the sum of all numbers within a specified range. The function will take two inputs: <code>minval</code> which is the smallest number and <code>maxval</code> which is the largest number.</li>
</ul>
</div>
</div>
<div id="if-else" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> If-else</h2>
<p>Conditional statements are the heart of programming. The if-else statement evaluates whether a condition is <code>TRUE</code> or <code>FALSE</code> and then perform a computation based on the truth of the statement. The syntax of an if-else statement is as follows:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="programming.html#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (logical statement){</span>
<span id="cb232-2"><a href="programming.html#cb232-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">##perform an action if the logical statement is TRUE </span></span>
<span id="cb232-3"><a href="programming.html#cb232-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb232-4"><a href="programming.html#cb232-4" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>{</span>
<span id="cb232-5"><a href="programming.html#cb232-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## perform a different action if NOT TRUE</span></span>
<span id="cb232-6"><a href="programming.html#cb232-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>For example, suppose we wanted to loop a vector of random numbers in the range of 1 to 100 and find out how many of them are greater than 50. We could do this in the following way:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="programming.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="do">## setting the seed for replication</span></span>
<span id="cb233-2"><a href="programming.html#cb233-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1992</span>)</span>
<span id="cb233-3"><a href="programming.html#cb233-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-4"><a href="programming.html#cb233-4" aria-hidden="true" tabindex="-1"></a><span class="do">## creating a random sample of 100 integers in the interval 1 to 100</span></span>
<span id="cb233-5"><a href="programming.html#cb233-5" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">100</span>)</span>
<span id="cb233-6"><a href="programming.html#cb233-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb233-7"><a href="programming.html#cb233-7" aria-hidden="true" tabindex="-1"></a><span class="do">## counting how many numbers come out bigger than 50</span></span>
<span id="cb233-8"><a href="programming.html#cb233-8" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="do">## setting our counter to 0</span></span>
<span id="cb233-9"><a href="programming.html#cb233-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> numbers){</span>
<span id="cb233-10"><a href="programming.html#cb233-10" aria-hidden="true" tabindex="-1"></a>  <span class="do">## evaluating if the number is greater than 50</span></span>
<span id="cb233-11"><a href="programming.html#cb233-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">50</span>) {</span>
<span id="cb233-12"><a href="programming.html#cb233-12" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span> <span class="do">## adding a 1 to our counter</span></span>
<span id="cb233-13"><a href="programming.html#cb233-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb233-14"><a href="programming.html#cb233-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>{</span>
<span id="cb233-15"><a href="programming.html#cb233-15" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">&lt;-</span> count <span class="do">## redundant, but here for example</span></span>
<span id="cb233-16"><a href="programming.html#cb233-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb233-17"><a href="programming.html#cb233-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Note the <code>set.seed</code> function. This is a function that allows replication of results when using random sampling techniques. Essentially it ensures that your random sample is the same random sample every time you run the program. While the seed was set to 1992, you can set the seed to any number you like. Of course, each seed number has its own unique sample (e.g. <code>set.seed(1)</code> will give different results than <code>set.seed(2)</code>).</p>
<div id="exercise-18" class="section level3" number="10.3.1">
<h3><span class="header-section-number">10.3.1</span> Exercise</h3>
<ul>
<li>Loop through your <code>numbers</code> vector and assign grade values to each of the numbers, and place the grades in a separate vector. For the grade values, if the number is less than 60, assign an “F,” if the number is between 60 and 69 assign a “D,” if the number is between 70 and 79 assign a “C,” if the number is between 80 and 89 assign a “B,” and if the number is between 90 and 100 assign an “A.” For fun, graph a histogram of the distribution.</li>
</ul>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="selected-solutions-3" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Selected Solutions</h2>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="programming.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="do">## a solution to Exercise 1.1.1</span></span>
<span id="cb234-2"><a href="programming.html#cb234-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-3"><a href="programming.html#cb234-3" aria-hidden="true" tabindex="-1"></a><span class="do">## this function converts miles to kilometers and feet to meters</span></span>
<span id="cb234-4"><a href="programming.html#cb234-4" aria-hidden="true" tabindex="-1"></a><span class="do">## it takes two input paramters: miles and feet</span></span>
<span id="cb234-5"><a href="programming.html#cb234-5" aria-hidden="true" tabindex="-1"></a><span class="do">## it returns two values: the kilometers and the meters</span></span>
<span id="cb234-6"><a href="programming.html#cb234-6" aria-hidden="true" tabindex="-1"></a>miles2kilo_feet2meter <span class="ot">&lt;-</span> <span class="cf">function</span>(miles, feet){</span>
<span id="cb234-7"><a href="programming.html#cb234-7" aria-hidden="true" tabindex="-1"></a>  kilometers <span class="ot">&lt;-</span> miles <span class="sc">*</span> <span class="fl">1.6</span></span>
<span id="cb234-8"><a href="programming.html#cb234-8" aria-hidden="true" tabindex="-1"></a>  meters <span class="ot">&lt;-</span> feet <span class="sc">*</span> <span class="fl">0.3</span></span>
<span id="cb234-9"><a href="programming.html#cb234-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Kilometers: &quot;</span>, kilometers, <span class="st">&quot;Meters: &quot;</span>, meters)))</span>
<span id="cb234-10"><a href="programming.html#cb234-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="programming.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="do">## a solution to Exercise 1.2.1</span></span>
<span id="cb235-2"><a href="programming.html#cb235-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-3"><a href="programming.html#cb235-3" aria-hidden="true" tabindex="-1"></a><span class="do">## This function calculates the sum of all numbers within a specified range</span></span>
<span id="cb235-4"><a href="programming.html#cb235-4" aria-hidden="true" tabindex="-1"></a><span class="do">## two parameters: minval and maxvalue</span></span>
<span id="cb235-5"><a href="programming.html#cb235-5" aria-hidden="true" tabindex="-1"></a><span class="do">## minval: the minimum value of the range</span></span>
<span id="cb235-6"><a href="programming.html#cb235-6" aria-hidden="true" tabindex="-1"></a><span class="do">## maxval: the maximum value of the range</span></span>
<span id="cb235-7"><a href="programming.html#cb235-7" aria-hidden="true" tabindex="-1"></a>sum_func <span class="ot">&lt;-</span> <span class="cf">function</span>(minval, maxval) {</span>
<span id="cb235-8"><a href="programming.html#cb235-8" aria-hidden="true" tabindex="-1"></a>  total <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb235-9"><a href="programming.html#cb235-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> minval<span class="sc">:</span>maxval) {</span>
<span id="cb235-10"><a href="programming.html#cb235-10" aria-hidden="true" tabindex="-1"></a>    total <span class="ot">=</span> total <span class="sc">+</span> i</span>
<span id="cb235-11"><a href="programming.html#cb235-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb235-12"><a href="programming.html#cb235-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;The sum of all numbers is &quot;</span>, total)))</span>
<span id="cb235-13"><a href="programming.html#cb235-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="file-organization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="relational-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jules32/bookdown-tutorial/edit/master/programming.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["series.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
